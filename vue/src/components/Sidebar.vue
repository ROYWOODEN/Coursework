<template>
  <section>
    <aside class="flex flex-col fixed justify-between">
    <div class="flex justify-center">
      <a href="/"><img class="aside__logo-img" src="/Sitebar/logo.svg" alt=""></a>
    </div>
    

    <nav class="flex flex-col justify-center text-xl font-medium !mt-14 w-full !mb-auto">
      
        <router-link 
        to="/"
        class="flex flex-row items-center sitebar__nav-item !ps-5"
        active-class="active-sitebar"
        >
        <svg class="sitebar__nav-svg" xmlns="http://www.w3.org/2000/svg" width="31" height="29" viewBox="0 0 31 29" fill="none">
            <path d="M13.5967 0.6524C14.1052 0.257334 14.7243 0.0302891 15.3679 0.00282334C16.0115 -0.0246424 16.6477 0.148836 17.188 0.499145L17.4035 0.653948L30.3984 10.7471C31.516 11.6156 30.9719 13.3664 29.625 13.5104L29.4452 13.5197H27.8999V25.9039C27.9001 26.685 27.6048 27.4374 27.073 28.0101C26.5412 28.5829 25.8123 28.9337 25.0324 28.9923L24.7999 29H6.20027C5.41845 28.9999 4.66557 28.7047 4.09244 28.1736C3.5193 27.6425 3.16826 26.9148 3.10962 26.1361L3.10032 25.9039V13.5197H1.555C0.139873 13.5197 -0.509565 11.8044 0.465367 10.8648L0.601765 10.7471L13.5967 0.6524ZM15.5001 3.09675L5.61903 10.7719C5.97397 11.0583 6.20027 11.4964 6.20027 11.9871V25.9039H10.8502V18.1638C10.8502 16.9321 11.3401 15.7508 12.2121 14.8799C13.0841 14.0089 14.2669 13.5197 15.5001 13.5197C16.7333 13.5197 17.9161 14.0089 18.7881 14.8799C19.6601 15.7508 20.15 16.9321 20.15 18.1638V25.9039H24.7999V11.9871C24.7999 11.4964 25.0262 11.0583 25.3812 10.7719L15.5001 3.09675ZM15.5001 16.6157C15.089 16.6157 14.6948 16.7788 14.4041 17.0691C14.1134 17.3594 13.9501 17.7532 13.9501 18.1638V25.9039H17.0501V18.1638C17.0501 17.7532 16.8868 17.3594 16.5961 17.0691C16.3054 16.7788 15.9112 16.6157 15.5001 16.6157Z" fill="currentColor"/>
      </svg>
        <span class="sitebar__nav-link !ms-4">Главная</span>
      </router-link>
      
      
        <!-- <router-link
        to="/active" 
        class="flex flex-row items-center sitebar__nav-item !ps-5"
        active-class="active-sitebar"
        > 
        <svg xmlns="http://www.w3.org/2000/svg" width="31" height="29" fill="currentColor" class="bi bi-fire sitebar__nav-svg" viewBox="0 0 16 16">
          <path d="M8 16c3.314 0 6-2 6-5.5 0-1.5-.5-4-2.5-6 .25 1.5-1.25 2-1.25 2C11 4 9 .5 6 0c.357 2 .5 4-2 6-1.25 1-2 2.729-2 4.5C2 14 4.686 16 8 16Zm0-1c-1.657 0-3-1-3-2.75 0-.75.25-2 1.25-3C6.125 10 7 10.5 7 10.5c-.375-1.25.5-3.25 2-3.5-.179 1-.25 2 1 3 .625.5 1 1.364 1 2.25C11 14 9.657 15 8 15Z"/>
        </svg>
        <span class="sitebar__nav-link !ps-4">Акции</span>
        </router-link> -->
      
      
        <router-link
        to="/games" 
        class="flex flex-row items-center sitebar__nav-item !ps-5"
        active-class="active-sitebar"
        > 
        <svg class="sitebar__nav-svg" xmlns="http://www.w3.org/2000/svg" width="31" height="29" viewBox="0 0 36 27" fill="none">
            <path d="M10.8789 6.84464H8.14204V9.23936H5.74731V11.9762H8.14204V14.3709H10.8789V11.9762H13.2736V9.23936H10.8789V6.84464Z" fill="currentColor"/>
            <path d="M22.5104 11.9762C23.2661 11.9762 23.8788 11.3635 23.8788 10.6078C23.8788 9.85204 23.2661 9.23938 22.5104 9.23938C21.7546 9.23938 21.142 9.85204 21.142 10.6078C21.142 11.3635 21.7546 11.9762 22.5104 11.9762Z" fill="currentColor"/>
            <path d="M25.2472 9.23936C26.003 9.23936 26.6156 8.6267 26.6156 7.87095C26.6156 7.11519 26.003 6.50253 25.2472 6.50253C24.4914 6.50253 23.8788 7.11519 23.8788 7.87095C23.8788 8.6267 24.4914 9.23936 25.2472 9.23936Z" fill="currentColor"/>
            <path d="M25.2472 14.713C26.003 14.713 26.6156 14.1004 26.6156 13.3446C26.6156 12.5889 26.003 11.9762 25.2472 11.9762C24.4914 11.9762 23.8788 12.5889 23.8788 13.3446C23.8788 14.1004 24.4914 14.713 25.2472 14.713Z" fill="currentColor"/>
            <path d="M33.8902 9.97523C32.6265 3.13152 31.1489 1.60985 30.1473 1.06063C28.9038 0.378752 27.3061 0.0227589 25.3985 0.00264326C24.8443 -0.00303566 24.4871 0.0025748 24.4721 0.00271164L23.9708 0.0109904L21.2436 2.3973H13.7878L11.0606 0.0109904L10.5593 0.00271164C10.5443 0.00250638 10.1872 -0.00324092 9.63288 0.00264326C7.72531 0.0227589 6.12762 0.378752 4.88407 1.06063C3.88253 1.60985 2.40485 3.13152 1.14119 9.97523C0.44795 13.7295 0 18.248 0 21.4867C0 22.3437 0.0474839 23.3429 0.399851 24.2548C0.954537 25.6906 2.10038 26.4814 3.6263 26.4814C6.88305 26.4814 9.48181 22.8465 10.7176 19.7337C10.9083 19.2534 11.389 18.9551 11.972 18.9551H23.0593C23.6424 18.9551 24.1231 19.2535 24.3138 19.7337C25.5496 22.8465 28.1483 26.4814 31.4051 26.4814C32.9309 26.4814 34.0768 25.6906 34.6315 24.2548C34.9839 23.3429 35.0314 22.3437 35.0314 21.4867C35.0314 18.248 34.5834 13.7295 33.8902 9.97523ZM32.0786 23.2685C31.9342 23.6422 31.7894 23.7446 31.4051 23.7446C29.746 23.7446 27.8238 21.1578 26.8574 18.7238C26.2531 17.2018 24.7623 16.2183 23.0593 16.2183H11.972C10.2691 16.2183 8.77824 17.2018 8.17395 18.7238C7.20757 21.1578 5.28536 23.7446 3.6263 23.7446C3.24191 23.7446 3.0972 23.6422 2.95276 23.2685C2.73683 22.7096 2.73683 21.8836 2.73683 21.4867C2.73683 18.458 3.17506 14.043 3.82732 10.5005C4.98397 4.21825 6.18831 3.46699 6.20008 3.46028C7.03262 3.00371 8.22971 2.75439 9.66175 2.73933C9.79381 2.7379 9.91409 2.73721 10.0199 2.73701L12.7595 5.13413H22.272L25.0116 2.73701C25.1174 2.73721 25.2377 2.73797 25.3697 2.73933C26.8018 2.75439 27.9988 3.00371 28.8312 3.46015C28.8432 3.46699 30.0476 4.21825 31.2042 10.5005C31.8563 14.043 32.2946 18.458 32.2946 21.4867C32.2946 21.8836 32.2946 22.7096 32.0786 23.2685Z" fill="currentColor"/>
            <path d="M27.984 11.9762C28.7398 11.9762 29.3524 11.3635 29.3524 10.6078C29.3524 9.85204 28.7398 9.23938 27.984 9.23938C27.2283 9.23938 26.6156 9.85204 26.6156 10.6078C26.6156 11.3635 27.2283 11.9762 27.984 11.9762Z" fill="currentColor"/>
        </svg>
          <span class="sitebar__nav-link !ps-4">Мои игры</span>
        </router-link>
      
      
        <router-link
        to="/favourites" 
        class="flex flex-row items-center sitebar__nav-item !ps-5"
        active-class="active-sitebar"
        >
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="27" fill="currentColor" class="bi bi-bookmark-fill sitebar__nav-svg" viewBox="0 0 16 16">
          <path d="M2 2v13.5a.5.5 0 0 0 .74.439L8 13.069l5.26 2.87A.5.5 0 0 0 14 15.5V2a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2z"/>
        </svg>
        <span class="sitebar__nav-link !ps-4">Избранное</span>
        </router-link>
     
        <router-link
        to="/popup" 
        class="flex flex-row items-center sitebar__nav-item !ps-5"
        active-class="active-sitebar"
        >
        <svg xmlns="http://www.w3.org/2000/svg" width="31" height="29" fill="currentColor" class="bi bi-layers-half sitebar__nav-svg" viewBox="0 0 16 16">
          <path d="M8.235 1.559a.5.5 0 0 0-.47 0l-7.5 4a.5.5 0 0 0 0 .882L3.188 8 .264 9.559a.5.5 0 0 0 0 .882l7.5 4a.5.5 0 0 0 .47 0l7.5-4a.5.5 0 0 0 0-.882L12.813 8l2.922-1.559a.5.5 0 0 0 0-.882l-7.5-4zM8 9.433 1.562 6 8 2.567 14.438 6 8 9.433z"/>
        </svg> 
        <span class="sitebar__nav-link !ps-4">История покупок</span>
        </router-link>
      
    </nav>

    <div class="flex flex-col sidebar__actions text-xl">
      <div 
      @click="gameStore.settingDialog = !gameStore.settingDialog"
      class="flex flex-row items-center !ps-5 sitebar__nav-item">
        <svg class="sitebar__nav-svg" xmlns="http://www.w3.org/2000/svg" width="31" height="29" viewBox="0 0 29 30" fill="none">
            <path d="M14.5114 10.941C13.6835 10.8602 12.8506 11.0343 12.1267 11.4395C11.4027 11.8447 10.8232 12.4612 10.4674 13.2046C10.1116 13.9479 9.99695 14.7818 10.1391 15.5921C10.2813 16.4024 10.6733 17.1494 11.2616 17.7309C11.8499 18.3124 12.6056 18.7 13.4252 18.8405C14.2449 18.9811 15.0885 18.8677 15.8405 18.516C16.5925 18.1643 17.2162 17.5914 17.6261 16.8758C18.036 16.1602 18.2121 15.3368 18.1303 14.5184C18.0371 13.601 17.6259 12.7437 16.9663 12.0917C16.3068 11.4397 15.4395 11.0332 14.5114 10.941ZM24.2271 14.9104C24.2245 15.344 24.1923 15.7769 24.1306 16.2062L26.981 18.4162C27.1051 18.5179 27.1887 18.6598 27.217 18.8167C27.2453 18.9736 27.2164 19.1353 27.1354 19.2731L24.4389 23.8851C24.357 24.0216 24.229 24.1251 24.0774 24.1775C23.9259 24.2298 23.7605 24.2276 23.6104 24.1712L20.7796 23.0443C20.6235 22.9829 20.4544 22.9607 20.2875 22.9797C20.1206 22.9988 19.961 23.0585 19.8232 23.1534C19.3911 23.4475 18.9371 23.7088 18.4651 23.935C18.3167 24.0063 18.1884 24.1126 18.0914 24.2445C17.9944 24.3765 17.9318 24.53 17.909 24.6916L17.4847 27.6763C17.4569 27.8339 17.3745 27.9771 17.2517 28.0813C17.1288 28.1855 16.9732 28.2444 16.8114 28.2478H11.4183C11.2591 28.2451 11.1056 28.1888 10.9831 28.0883C10.8606 27.9878 10.7764 27.8491 10.7443 27.695L10.3206 24.7146C10.2968 24.5513 10.2326 24.3963 10.1336 24.2634C10.0346 24.1306 9.90392 24.0239 9.75318 23.953C9.28168 23.7281 8.82923 23.4662 8.40018 23.1696C8.2628 23.0751 8.10379 23.0159 7.93748 22.9973C7.77118 22.9787 7.6028 23.0013 7.44753 23.063L4.61732 24.1892C4.46733 24.2457 4.302 24.248 4.15045 24.1958C3.9989 24.1436 3.87086 24.0402 3.78887 23.9038L1.09232 19.2918C1.01124 19.154 0.982273 18.9923 1.01056 18.8353C1.03885 18.6784 1.12256 18.5365 1.24678 18.4349L3.65584 16.5651C3.78782 16.4616 3.89155 16.3271 3.95761 16.1738C4.02367 16.0206 4.04997 15.8535 4.03412 15.6876C4.01143 15.4277 3.99756 15.1685 3.99756 14.9086C3.99756 14.6487 4.0108 14.3932 4.03412 14.1389C4.04824 13.974 4.02065 13.8083 3.95384 13.6567C3.88703 13.505 3.78311 13.3722 3.65142 13.2701L1.24363 11.4004C1.12142 11.2982 1.03947 11.1568 1.01215 11.0009C0.984833 10.845 1.01388 10.6846 1.09421 10.5478L3.79076 5.9358C3.87265 5.7993 4.00065 5.69576 4.15221 5.64343C4.30377 5.59109 4.46915 5.59333 4.61921 5.64973L7.45005 6.77655C7.60616 6.83799 7.77525 6.86019 7.94217 6.84115C8.10909 6.82212 8.26863 6.76245 8.40649 6.66748C8.83852 6.37339 9.29251 6.11213 9.76453 5.88594C9.91293 5.81464 10.0413 5.70832 10.1383 5.57636C10.2353 5.44441 10.2979 5.29087 10.3206 5.12933L10.7449 2.14463C10.7728 1.987 10.8552 1.84383 10.978 1.73959C11.1008 1.63535 11.2564 1.57651 11.4183 1.57312H16.8114C16.9705 1.57584 17.124 1.63208 17.2465 1.73257C17.3691 1.83305 17.4533 1.97179 17.4854 2.12593L17.909 5.10627C17.9328 5.2696 17.9971 5.42458 18.0961 5.55745C18.1951 5.69032 18.3257 5.79695 18.4765 5.86786C18.948 6.09276 19.4004 6.35474 19.8295 6.65128C19.9669 6.74577 20.1259 6.80498 20.2922 6.82359C20.4585 6.84219 20.6269 6.8196 20.7821 6.75785L23.6123 5.63166C23.7623 5.5752 23.9277 5.57287 24.0792 5.62509C24.2308 5.67731 24.3588 5.78071 24.4408 5.9171L27.1373 10.5291C27.2184 10.6669 27.2474 10.8286 27.2191 10.9856C27.1908 11.1425 27.1071 11.2844 26.9829 11.386L24.5738 13.2557C24.4413 13.359 24.3369 13.4933 24.2703 13.6466C24.2037 13.7999 24.1769 13.9672 24.1924 14.1333C24.2132 14.3913 24.2271 14.6506 24.2271 14.9104Z" stroke="currentColor" stroke-width="1.77143" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <div
        class="sitebar__nav-link !ps-4 "
        >Настройки</div>
      </div>
      <div v-if="gameStore.user" class="flex flex-row items-center sitebar__link-exit !ps-5"
      @click="gameStore.logout">
        <svg xmlns="http://www.w3.org/2000/svg" width="31" height="29" viewBox="0 0 26 26" fill="none">
            <path d="M8.56744 4.98295L8.56744 3.26822C8.56744 2.81345 8.7481 2.3773 9.06968 2.05573C9.39125 1.73415 9.8274 1.55349 10.2822 1.55349L22.2853 1.5535C22.74 1.5535 23.1762 1.73415 23.4978 2.05573C23.8193 2.3773 24 2.81345 24 3.26822L24 22.1302C24 22.585 23.8193 23.0212 23.4978 23.3427C23.1762 23.6643 22.74 23.845 22.2853 23.845L10.2822 23.845C9.82739 23.845 9.39125 23.6643 9.06967 23.3427C8.7481 23.0212 8.56744 22.585 8.56744 22.1302L8.56744 20.4155M13.7116 12.6992L1.70853 12.6992M1.70853 12.6992L5.13798 16.1287M1.70853 12.6992L5.13798 9.26978" stroke="#EC3343" stroke-width="2.38837" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <a class="sidebar__link !ps-4">Выйти</a>
      </div>
    </div>
    
  </aside>
    <setting v-if="gameStore.settingDialog" />
  </section>
  
  
</template>

<script>

import { useGameStore } from '@/stores/GameStore';
import Setting from './Setting.vue';

export default {
  components: { Setting },
    data() {
      return {
        gameStore: useGameStore(),
      }
    },
    methods: {

    }
}
</script>

<style lang="scss">
  @use '../assets/scss/main.scss' as*;


  aside {
    padding-top: 10px;
    top: 0;
    left: 0;
    width: 20%;
    background-color: rgba(138, 138, 138, 8%);
    height: 100%;
  }

  .sitebar__nav {

    &-item {
      color: $color-grey-text;
      transition: color 0.3s;
      cursor: pointer;
      width: 100%;

      &:hover {
        color: $color-purple;
        background-color: $color-purple-transparent-hover;
      }

      &-svg:hover {
        fill: inherit;
      }
    }
    
    &-link {
      display: block;
      margin: 15px 0;
      color: inherit;
    }

    
  }



  .active-sitebar {
    color: $color-purple;
    background-color: $color-purple-transparent-hover;
}
  .sidebar__actions {
    color: $color-grey-text;
  }
  .sidebar__link {
    display: block;
    margin: 15px 0;
  }
  .sitebar__link-exit {
    color: $color-red-exit;
    transition: color 0.3s;
    cursor: pointer;
    width: 100%;

      &:hover {
        background-color: $color-red-exit-hover;
      }
  }

</style>